{
  "meta": {
    "project": "Pizzeria Management System",
    "date": "2025-11-19",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "De Pizzeria Management System is een geïntegreerde oplossing bestaande uit een desktop applicatie en een web applicatie voor het efficiënt beheren van pizzeria operaties, inclusief bestelverwerking, klantenbeheer, menubeheer, bezorging, en rapportages met real-time updates.",
  "core_goals": [
    "Automatiseren van het bestelproces en verbeteren van klanttevredenheid via online bestellingen.",
    "Efficiënt beheer van klanteninformatie, menu's, voorraad en bestellingen.",
    "Realtime order status updates en synchronisatie tussen kassasysteem en webapplicatie.",
    "Ondersteuning voor meerdere gebruikersrollen met beveiligde authenticatie en autorisatie.",
    "Integratie met bonprinters voor automatische ontvangstbewijzen.",
    "Genereren van rapportages en analytische inzichten voor bedrijfsoptimalisatie."
  ],
  "key_features": [
    "Volledig klantbeheer met zoekfunctie, statistieken en adresvalidatie.",
    "Uitgebreid ordermanagement inclusief status workflow en real-time tracking via WebSockets.",
    "Menu beheer met categorieën, productopties en beschikbaarheid.",
    "Dynamic product opties zoals vlees, bijgerechten, sauzen en garneringen met live prijsberekening.",
    "Winkelwagenfunctionaliteit met hoeveelheidbeheer en optieweergave.",
    "JWT-gebaseerde authenticatie met rolgebaseerde toegangscontrole.",
    "Bezorgersbeheer met toewijzing van bestellingen en prestatieanalyse.",
    "Bonprinter integratie met ESC/POS-formattering, QR-code ondersteuning en print queue management.",
    "Rapportage- en analysetools voor dagelijkse, maandelijkse en dagafsluitingsrapporten.",
    "Real-time update ondersteuning voor orderstatussen en admin dashboard synchronisatie.",
    "Responsive webinterface voor publiekelijke menuweergave en besteltracking.",
    "Volledige administratie dashboard met real-time orderoverzicht, menu- en printerbeheer.",
    "Kassa-interface met snel zoek- en bestelfunctionaliteit inclusief keyboard shortcuts en automatische printopdrachten."
  ],
  "user_flow_summary": [
    "Kassamedewerker logt in en zoekt klant op telefoonnummer om bestelling te plaatsen met productopties en winkelwagenbeheer.",
    "Online klant bezoekt publieke website, bekijkt menu, plaatst bestelling en volgt realtime orderstatus.",
    "Administrator beheert menu items, bekijkt en filtert orders, genereert rapporten en configureert printers via admin dashboard.",
    "Koerier ontvangt toegewezen bestellingen, update bezorgstatus via systeem en analyseert prestaties.",
    "Systeem verwerkt bestellingen, berekent prijzen inclusief opties, genereert bonnen en verzendt meldingen naar relevante gebruikers in realtime."
  ],
  "validation_criteria": [
    "Gebruikers kunnen veilig inloggen en toegang wordt beperkt volgens rolrechten.",
    "Klanten kunnen correct worden aangemaakt, gezocht en bijgewerkt met geldige gegevens.",
    "Bestellingen worden juist aangemaakt met correcte prijsberekening en alle statuswijzigingen worden realtime gecommuniceerd.",
    "Menu items en productopties worden accuraat beheerd en weergegeven inclusief beschikbaarheid en prijsupdates.",
    "Printerbonnen worden automatisch en correct geprint met juiste formatting en QR-code indien geconfigureerd.",
    "Rapportages worden nauwkeurig gegenereerd en bevatten actuele data.",
    "WebSocket verbindingen zijn stabiel en zorgen voor direct realtime updates.",
    "UI componenten en workflows zijn intuïtief, responsief en foutafhandeling is effectief.",
    "Database operaties zijn betrouwbaar met backup en herstel mechanismen.",
    "Systeem voldoet aan performance- en security eisen zoals API-responsetijden, rate limiting en data validatie."
  ],
  "code_summary": {
    "tech_stack": [
      "Python 3.8+",
      "Tkinter",
      "FastAPI",
      "React 18",
      "TypeScript",
      "SQLite",
      "SQLAlchemy",
      "Material-UI",
      "Vite",
      "WebSocket",
      "JWT",
      "Pydantic"
    ],
    "features": [
      {
        "name": "Customer Management",
        "description": "Manage customer information, search customers, view customer history and statistics",
        "files": [
          "modules/klanten.py",
          "modules/klant_management.py",
          "business/customer_handler.py",
          "services/customer_service.py",
          "repositories/customer_repository.py",
          "pizzeria-web/backend/app/api/customers.py",
          "pizzeria-web/backend/app/models/customer.py",
          "pizzeria-web/backend/app/schemas/customer.py",
          "pizzeria-web/frontend/src/components/CustomerSearch.tsx",
          "pizzeria-web/frontend/src/pages/CheckoutPage.tsx"
        ]
      },
      {
        "name": "Order Management",
        "description": "Create, update, track and manage orders with status workflow (Nieuw, In behandeling, Klaar, Onderweg, Afgeleverd, Geannuleerd)",
        "files": [
          "app.py",
          "business/order_processor.py",
          "services/order_service.py",
          "repositories/order_repository.py",
          "pizzeria-web/backend/app/api/orders.py",
          "pizzeria-web/backend/app/api/order_tracking.py",
          "pizzeria-web/backend/app/models/order.py",
          "pizzeria-web/backend/app/schemas/order.py",
          "pizzeria-web/frontend/src/pages/KassaPage.tsx",
          "pizzeria-web/frontend/src/pages/OrderStatusPage.tsx",
          "pizzeria-web/frontend/src/pages/OrderTrackingPage.tsx",
          "pizzeria-web/frontend/src/pages/HistoryPage.tsx"
        ]
      },
      {
        "name": "Menu Management",
        "description": "Manage menu items, categories, pricing, availability, and product options",
        "files": [
          "modules/menu_management.py",
          "utils/menu_utils.py",
          "pizzeria-web/backend/app/api/menu.py",
          "pizzeria-web/backend/app/models/menu.py",
          "pizzeria-web/backend/app/schemas/menu.py",
          "pizzeria-web/frontend/src/components/MenuGrid.tsx",
          "pizzeria-web/frontend/src/components/admin/MenuManagement.tsx",
          "pizzeria-web/frontend/src/pages/PublicMenuPage.tsx"
        ]
      },
      {
        "name": "Product Options",
        "description": "Manage product extras including vlees, bijgerecht, sauzen, and garnering options with dynamic pricing",
        "files": [
          "modules/extras_management.py",
          "ui/product_options_dialog.py",
          "pizzeria-web/backend/app/api/extras.py",
          "pizzeria-web/frontend/src/components/ProductModal.tsx"
        ]
      },
      {
        "name": "Shopping Cart",
        "description": "Shopping cart functionality with quantity management, product options display, and total calculation",
        "files": [
          "pizzeria-web/frontend/src/components/Cart.tsx",
          "pizzeria-web/frontend/src/pages/CartPage.tsx",
          "pizzeria-web/frontend/src/pages/CheckoutPage.tsx"
        ]
      },
      {
        "name": "Authentication & Authorization",
        "description": "JWT-based authentication with role-based access control (Admin, Kassa, Public)",
        "files": [
          "pizzeria-web/backend/app/api/auth.py",
          "pizzeria-web/backend/app/core/security.py",
          "pizzeria-web/frontend/src/pages/LoginPage.tsx",
          "pizzeria-web/frontend/src/components/ProtectedRoute.tsx",
          "pizzeria-web/frontend/src/contexts/AuthContext.tsx"
        ]
      },
      {
        "name": "Delivery Management",
        "description": "Manage delivery drivers (koeriers), assign orders to couriers, and track delivery status",
        "files": [
          "modules/koeriers.py",
          "modules/courier_service.py",
          "modules/courier_ui.py",
          "modules/courier_config.py"
        ]
      },
      {
        "name": "Order History",
        "description": "View order history, search and filter orders, view order details",
        "files": [
          "modules/geschiedenis.py",
          "modules/history_service.py",
          "modules/history_ui.py",
          "pizzeria-web/frontend/src/pages/HistoryPage.tsx"
        ]
      },
      {
        "name": "Reporting & Analytics",
        "description": "Generate daily, monthly, and Z-reports with product statistics, hourly breakdowns, and revenue tracking",
        "files": [
          "modules/rapportage.py",
          "pizzeria-web/backend/app/api/reports.py",
          "pizzeria-web/frontend/src/components/admin/Reports.tsx"
        ]
      },
      {
        "name": "Inventory Management",
        "description": "Track ingredients, stock levels, recipes, and inventory transactions",
        "files": [
          "modules/voorraad.py"
        ]
      },
      {
        "name": "Receipt Generation & Printing",
        "description": "Generate receipts with ESC/POS formatting, QR codes, and print to thermal printers (Windows) or print queue",
        "files": [
          "bon_generator.py",
          "modules/bon_viewer.py",
          "printers/base.py",
          "printers/windows_printer.py",
          "utils/print_utils.py",
          "pizzeria-web/backend/app/api/printer.py",
          "pizzeria-web/backend/app/services/printer.py",
          "pizzeria-web/frontend/src/components/admin/PrinterSettings.tsx"
        ]
      },
      {
        "name": "Backup & Restore",
        "description": "Backup and restore database functionality",
        "files": [
          "modules/backup.py"
        ]
      },
      {
        "name": "Online Orders",
        "description": "Handle online orders from public website",
        "files": [
          "modules/online_bestellingen.py"
        ]
      },
      {
        "name": "Pickup Orders",
        "description": "Manage pickup/afhaal orders",
        "files": [
          "modules/afhaal.py"
        ]
      },
      {
        "name": "Real-time Updates",
        "description": "WebSocket support for real-time order updates, status changes, and admin dashboard sync",
        "files": [
          "pizzeria-web/backend/app/api/websocket.py",
          "pizzeria-web/frontend/src/hooks/useWebSocket.ts"
        ]
      },
      {
        "name": "Admin Dashboard",
        "description": "Admin interface for managing orders, menu, reports, and settings with real-time updates",
        "files": [
          "pizzeria-web/frontend/src/pages/AdminPage.tsx",
          "pizzeria-web/frontend/src/components/admin/OrdersOverview.tsx",
          "pizzeria-web/frontend/src/components/admin/MenuManagement.tsx",
          "pizzeria-web/frontend/src/components/admin/Reports.tsx",
          "pizzeria-web/frontend/src/components/admin/PrinterSettings.tsx"
        ]
      },
      {
        "name": "Kassa Interface",
        "description": "Point of sale interface for placing orders, customer search, product selection, and automatic printing",
        "files": [
          "pizzeria-web/frontend/src/pages/KassaPage.tsx",
          "pizzeria-web/frontend/src/components/CustomerSearch.tsx",
          "pizzeria-web/frontend/src/components/MenuGrid.tsx",
          "pizzeria-web/frontend/src/components/ProductSearch.tsx"
        ]
      },
      {
        "name": "Public Customer Website",
        "description": "Public-facing website for viewing menu, placing orders, and tracking order status",
        "files": [
          "pizzeria-web/frontend/src/pages/PublicMenuPage.tsx",
          "pizzeria-web/frontend/src/pages/OrderStatusPage.tsx",
          "pizzeria-web/frontend/src/pages/OrderTrackingPage.tsx",
          "pizzeria-web/frontend/src/components/PublicHeader.tsx"
        ]
      },
      {
        "name": "Settings Management",
        "description": "Manage application settings, printer configuration, and custom footer text",
        "files": [
          "config.py",
          "pizzeria-web/backend/app/api/settings.py",
          "pizzeria-web/backend/app/core/config.py"
        ]
      },
      {
        "name": "Contact & Address Management",
        "description": "Handle contact information and address validation with suggestions",
        "files": [
          "pizzeria-web/backend/app/api/contact.py",
          "pizzeria-web/backend/app/api/addresses.py",
          "pizzeria-web/frontend/src/pages/ContactPage.tsx",
          "utils/address_utils.py",
          "utils/phone_validator.py"
        ]
      },
      {
        "name": "Email Verification",
        "description": "Email verification functionality for customer accounts",
        "files": [
          "pizzeria-web/frontend/src/pages/VerifyEmailPage.tsx",
          "pizzeria-web/backend/app/services/email_verification.py"
        ]
      },
      {
        "name": "Database Management",
        "description": "Database operations, initialization, and context management",
        "files": [
          "database.py",
          "pizzeria-web/backend/app/core/database.py",
          "tests/test_database/test_database_context.py"
        ]
      },
      {
        "name": "Validation & Error Handling",
        "description": "Input validation, custom exceptions, and error handling",
        "files": [
          "validation.py",
          "exceptions.py",
          "pizzeria-web/backend/app/utils/phone_validator.py",
          "pizzeria-web/frontend/src/utils/errorHandler.ts",
          "pizzeria-web/frontend/src/components/ErrorBoundary.tsx"
        ]
      },
      {
        "name": "UI Components",
        "description": "Reusable UI components including customer forms, menu grids, product dialogs, and tab management",
        "files": [
          "ui/customer_form_enhanced.py",
          "ui/menu_grids.py",
          "ui/product_order_dialog.py",
          "ui/product_options_dialog.py",
          "ui/category_order_dialog.py",
          "ui/tab_manager.py",
          "ui/mode_selector.py"
        ]
      },
      {
        "name": "Logging & Configuration",
        "description": "Application logging, configuration management, and state management",
        "files": [
          "logging_config.py",
          "app_state.py",
          "config.py",
          "pizzeria-web/backend/app/core/config.py"
        ]
      }
    ]
  }
}
